import{A as y,B as b,C as W,D as P,E as a,F as h,G as f,H as u,I as X,J as M,K as O,L as Z,M as ee,N as te,O as ie,P as k,Q as x,R as ne,U as oe,W as re,X as ae,a as N,b as $,c as A,d as j,e as z,f as q,g as S,h as J,i as K,j as d,k as w,l as B,m as H,n as F,o as l,p as g,q as v,r as c,s as V,t as Y,u as G,v as Q,w as r,x as n,y as m,z as R}from"./chunk-YY47MHDO.js";var D=(()=>{let e=class e{constructor(){this.writeUser=new N,this.placeholder="",this.initialValue="",this.pepito=new H}ngOnInit(){this.writeUser.pipe(z(1e3)).subscribe(t=>{this.pepito.emit(t)})}ngOnDestroy(){this.writeUser.unsubscribe}enviarValor(t){this.pepito.emit(t)}onKeyPress(t){this.writeUser.next(t)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d({type:e,selectors:[["shared-search-box"]],inputs:{placeholder:"placeholder",initialValue:"initialValue"},outputs:{pepito:"pepito"},standalone:!0,features:[u],decls:2,vars:2,consts:[["txtInput",""],["type","text",1,"form-control",3,"keyup.enter","keyup","placeholder","value"]],template:function(i,s){if(i&1){let E=R();r(0,"input",1,0),y("keyup.enter",function(){w(E);let U=P(1);return B(s.enviarValor(U.value))})("keyup",function(){w(E);let U=P(1);return B(s.onKeyPress(U.value))}),n()}i&2&&c("placeholder",s.placeholder)("value",s.initialValue)}});let o=e;return o})();function ue(o,e){o&1&&(r(0,"div",0),a(1,` No hay paises que mostrar
`),n())}function he(o,e){if(o&1&&(r(0,"tr")(1,"td"),a(2),n(),r(3,"td"),a(4),n(),r(5,"td"),m(6,"img",2),n(),r(7,"td"),a(8),n(),r(9,"td"),a(10),n(),r(11,"td"),a(12),M(13,"number"),n(),r(14,"td"),a(15),n(),r(16,"td")(17,"a",3),a(18,"Info"),n()()()),o&2){let p=e.$implicit,t=e.$index;l(2),h(t+1),l(2),h(p.flag),l(2),c("src",p.flags.svg,F)("alt",p.name.common),l(2),h(p.name.common),l(2),h(p.capital),l(2),h(O(13,10,p.population)),l(3),h(p.cca3),l(2),W("routerLink","/countries/by/",p.cca3,"")}}function fe(o,e){o&1&&(r(0,"tr"),a(1," No data "),n())}function ge(o,e){if(o&1&&(r(0,"table",1)(1,"thead")(2,"tr")(3,"th"),a(4,"#"),n(),r(5,"th"),a(6,"Icon"),n(),r(7,"th"),a(8,"Bandera"),n(),r(9,"th"),a(10,"Nombre"),n(),r(11,"th"),a(12,"Capital"),n(),r(13,"th"),a(14,"Poblacion"),n(),r(15,"th"),a(16,"Codigo"),n(),m(17,"th")(18,"th"),n()(),r(19,"tbody"),G(20,he,19,12,"tr",null,Y,!1,fe,2,0,"tr"),n()()),o&2){let p=b();l(20),Q(p.paises)}}var I=(()=>{let e=class e{constructor(){this.paises=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d({type:e,selectors:[["country-table"]],inputs:{paises:"paises"},standalone:!0,features:[u],decls:2,vars:1,consts:[[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[3,"src","alt"],[3,"routerLink"]],template:function(i,s){i&1&&v(0,ue,2,0,"div",0)(1,ge,23,1),i&2&&V(0,s.paises.length===0?0:1)},dependencies:[x,k,ae],styles:["img[_ngcontent-%COMP%]{width:20px}"]});let o=e;return o})();var C=(()=>{let e=class e{constructor(t){this.http=t,this.apiUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.loadFromLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getPaisesRequest(t){return this.http.get(t).pipe(j(i=>$([])))}searchCapital(t){let i=`${this.apiUrl}/capital/${t}`;return this.getPaisesRequest(i).pipe(S(s=>this.cacheStore.byCapital={term:t,countries:s}),S(()=>this.saveToLocalStorage()))}searchRegion(t){let i=`${this.apiUrl}/region/${t}`;return this.getPaisesRequest(i).pipe(S(s=>this.cacheStore.byRegion={region:t,countries:s}),S(()=>this.saveToLocalStorage()))}searchPais(t){let i=`${this.apiUrl}/name/${t}`;return this.getPaisesRequest(i).pipe(S(s=>this.cacheStore.byCountries={term:t,countries:s}),S(()=>this.saveToLocalStorage()))}searchCountryByCode(t){let i=`${this.apiUrl}/alpha/${t}`;return this.http.get(i).pipe(A(s=>s.length>0?s[0]:null),j(s=>$(null)))}};e.\u0275fac=function(i){return new(i||e)(K(ne))},e.\u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var le=(()=>{let e=class e{constructor(t){this.countryService=t,this.paises=[],this.inicialValue="",console.log("cons",t)}ngOnInit(){this.paises=this.countryService.cacheStore.byCapital.countries,this.inicialValue=this.countryService.cacheStore.byCapital.term}searchByCapital(t){this.countryService.searchCapital(t).subscribe(i=>{this.paises=i})}};e.\u0275fac=function(i){return new(i||e)(g(C))},e.\u0275cmp=d({type:e,selectors:[["app-by-capital-page"]],standalone:!0,features:[u],decls:7,vars:2,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por Capital",3,"pepito","initialValue"],[3,"paises"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"div",1)(2,"shared-search-box",2),y("pepito",function(T){return s.searchByCapital(T)}),n()()(),r(3,"div",0)(4,"div",1),m(5,"hr")(6,"country-table",3),n()()),i&2&&(l(2),c("initialValue",s.inicialValue),l(4),c("paises",s.paises))},dependencies:[D,I]});let o=e;return o})();var pe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d({type:e,selectors:[["shared-loading-spinner"]],standalone:!0,features:[u],decls:4,vars:0,consts:[[1,"spinner-container"],["src","assets/loader.svg"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"span"),a(2,"Buscando"),n(),m(3,"img",1),n())},styles:[".spinner-container[_ngcontent-%COMP%]{align-items:center;background-color:#000;border-radius:20px;bottom:15px;color:#fff;display:flex;padding:5px 10px;position:fixed;right:15px}span[_ngcontent-%COMP%]{margin-left:5px}"]});let o=e;return o})();function ve(o,e){o&1&&m(0,"shared-loading-spinner")}var ce=(()=>{let e=class e{constructor(t){this.countryService=t,this.placeholderCountry="Buscar por pais",this.paises=[],this.isLoading=!1,this.inicialValue=""}ngOnInit(){this.paises=this.countryService.cacheStore.byCountries.countries,this.inicialValue=this.countryService.cacheStore.byCountries.term}searchByPais(t){this.isLoading=!0,this.countryService.searchPais(t).subscribe(i=>{this.paises=i,this.isLoading=!1})}};e.\u0275fac=function(i){return new(i||e)(g(C))},e.\u0275cmp=d({type:e,selectors:[["app-by-country-page"]],standalone:!0,features:[u],decls:8,vars:4,consts:[[1,"row"],[1,"col"],[3,"pepito","placeholder","initialValue"],[3,"paises"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"div",1)(2,"shared-search-box",2),y("pepito",function(T){return s.searchByPais(T)}),n()()(),v(3,ve,1,0,"shared-loading-spinner"),r(4,"div",0)(5,"div",1),m(6,"hr")(7,"country-table",3),n()()),i&2&&(l(2),c("placeholder",s.placeholderCountry)("initialValue",s.inicialValue),l(),V(3,s.isLoading?3:-1),l(4),c("paises",s.paises))},dependencies:[D,x,I,pe]});let o=e;return o})();var ye=o=>({"btn-primary":o});function xe(o,e){if(o&1){let p=R();r(0,"button",5),y("click",function(){let i=w(p).$implicit,s=b();return B(s.searchByRegion(i))}),a(1),n()}if(o&2){let p=e.$implicit,t=b();c("ngClass",X(2,ye,p===t.inicialValue)),l(),h(p)}}var me=(()=>{let e=class e{constructor(t){this.countryService=t,this.regiones=["America","Africa","Europe","Asia","Oceania"],this.placeholderRegion="Buscar por region",this.paises=[]}ngOnInit(){this.paises=this.countryService.cacheStore.byRegion.countries,this.inicialValue=this.countryService.cacheStore.byRegion.region}searchByRegion(t){this.countryService.searchRegion(t).subscribe(i=>{this.paises=i})}};e.\u0275fac=function(i){return new(i||e)(g(C))},e.\u0275cmp=d({type:e,selectors:[["app-by-region-page"]],standalone:!0,features:[u],decls:7,vars:2,consts:[[1,"row"],[1,"col","text-center"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[3,"paises"],[1,"btn","mx-2",3,"click","ngClass"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"div",1),v(2,xe,2,4,"button",2),n()(),r(3,"div",0)(4,"div",3),m(5,"hr")(6,"country-table",4),n()()),i&2&&(l(2),c("ngForOf",s.regiones),l(4),c("paises",s.paises))},dependencies:[I,x,ee,te]});let o=e;return o})();function Ce(o,e){if(o&1&&(r(0,"div")(1,"div",2)(2,"div",3)(3,"h2"),a(4,"Pais: "),r(5,"strong"),a(6),n()()()(),m(7,"hr"),r(8,"div",2)(9,"div",4),m(10,"img",5),n(),r(11,"div",6)(12,"h3"),a(13,"Informaci\xF3n"),n(),r(14,"ul",7)(15,"li",8)(16,"strong"),a(17,"Poblaci\xF3n:"),n(),a(18),M(19,"number"),n(),r(20,"li",8)(21,"strong"),a(22,"C\xF3digo:"),n(),a(23),n(),r(24,"li",8)(25,"strong"),a(26,"Continente:"),n(),a(27),n()()()(),r(28,"div",9)(29,"div",3)(30,"h3"),a(31,"Traducciones"),n(),r(32,"div",10)(33,"span",11),a(34),n(),r(35,"span",11),a(36),n(),r(37,"span",11),a(38),n(),r(39,"span",11),a(40),n(),r(41,"span",11),a(42),n(),r(43,"span",11),a(44),n(),r(45,"span",11),a(46),n()()()()()),o&2){let p=b();l(6),h(p.pais.name.common),l(4),c("src",p.pais.flags.svg,F)("alt",p.pais.name.common),l(8),f(" ",O(19,13,p.pais.population)," "),l(5),f(" ",p.pais.ccn3," "),l(4),f(" ",p.pais.region," "),l(7),f("",p.pais.translations.ara.common," "),l(2),f("",p.pais.translations.rus.common," "),l(2),f("",p.pais.translations.fra.common," "),l(2),f("",p.pais.translations.kor.common," "),l(2),f("",p.pais.translations.per.common," "),l(2),f("",p.pais.translations.zho.common," "),l(2),f("",p.pais.translations.jpn.common," ")}}function Se(o,e){o&1&&(r(0,"div",12),a(1," Espere por favor "),n())}var de=(()=>{let e=class e{constructor(t,i,s){this.activatedRoute=t,this.countryService=i,this.router=s}ngOnInit(){this.activatedRoute.params.pipe(q(({id:t})=>this.countryService.searchCountryByCode(t))).subscribe(t=>t?this.pais=t:0)}};e.\u0275fac=function(i){return new(i||e)(g(oe),g(C),g(re))},e.\u0275cmp=d({type:e,selectors:[["app-country-page"]],standalone:!0,features:[u],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"],[1,"alert","alert-info","text-center"]],template:function(i,s){if(i&1&&v(0,Ce,47,15,"div",1)(1,Se,2,0,"ng-template",null,0,Z),i&2){let E=P(2);c("ngIf",s.pais)("ngIfElse",E)}},dependencies:[x,ie,k]});let o=e;return o})();var tt=[{path:"by-capital",component:le},{path:"by-country",component:ce},{path:"by-region",component:me},{path:"by/:id",component:de},{path:"**",redirectTo:"by-capital"}];export{tt as COUNTRY_ROUTES};
